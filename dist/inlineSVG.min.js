!function(a,b){"function"==typeof define&&define.amd?define([],b(a)):"object"==typeof exports?module.exports=b(a):a.inlineSVG=b(a)}("undefined"!=typeof global?global:this.window||this.global,function(a){"use strict";var b,c={},d=!!document.querySelector&&!!a.addEventListener,e={initClass:"js-inlinesvg",svgSelector:"img.svg",storeResults:!0,timeToStoreResult:24},f=function(){var a={},b=!1,c=0,d=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(b=arguments[0],c++);for(var e=function(c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(b&&"[object Object]"===Object.prototype.toString.call(c[d])?a[d]=f(!0,a[d],c[d]):a[d]=c[d])};d>c;c++){var g=arguments[c];e(g)}return a},g=function(){var a=document.querySelectorAll(b.svgSelector);return a},h=function(){var a=g();Array.prototype.forEach.call(a,function(a,c){var d=a.src,e=a.attributes;if(localStorage.getItem(d)){var f=JSON.parse(localStorage.getItem(d)),g=f.svg,h=f.timestamp,i=Math.round((new Date).getTime()/1e3),j=i-3600*b.timeToStoreResult;console.log("expire date: "+Date(h)),console.log("today minus 24 hours: "+Date(j));var k=new DOMParser,l=k.parseFromString(g,"text/xml"),m=l.getElementsByTagName("svg")[0];a.parentNode.replaceChild(m,a),j>h&&localStorage.removeItem(d)}else{var n=new XMLHttpRequest;n.open("GET",d,!0),n.onload=function(){if(n.status>=200&&n.status<400){var c=new DOMParser,f=c.parseFromString(n.responseText,"text/xml"),g=f.getElementsByTagName("svg")[0];if(g.removeAttribute("xmlns:a"),g.removeAttribute("width"),g.removeAttribute("height"),g.removeAttribute("x"),g.removeAttribute("y"),g.removeAttribute("enable-background"),g.removeAttribute("xmlns:xlink"),g.removeAttribute("xml:space"),g.removeAttribute("version"),Array.prototype.slice.call(e).forEach(function(a){"src"!==a.name&&"alt"!==a.name&&g.setAttribute(a.name,a.value)}),g.classList?g.classList.add("inlined-svg"):g.className+=" inlined-svg",g.setAttribute("role","img"),e.longdesc){var h=document.createElementNS("http://www.w3.org/2000/svg","desc"),i=document.createTextNode(e.longdesc.value);h.appendChild(i),g.insertBefore(h,g.firstChild)}if(e.alt){g.setAttribute("aria-labelledby","title");var j=document.createElementNS("http://www.w3.org/2000/svg","title"),k=document.createTextNode(e.alt.value);j.appendChild(k),g.insertBefore(j,g.firstChild)}if(b.storeResults){var l=document.createElement("div");l.appendChild(g);var m={svg:l.innerHTML,timestamp:Math.round((new Date).getTime()/1e3)};localStorage.setItem(d,JSON.stringify(m))}a.parentNode.replaceChild(g,a)}else console.error("There was an error retrieving the source of the SVG.")},n.onerror=function(){console.error("There was an error connecting to the origin server.")},n.send()}})};return c.init=function(a){d&&(b=f(e,a||{}),h(),document.documentElement.className+=" "+b.initClass)},c});